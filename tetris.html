<html>
	<head>
		<title>Tetris</title>
		<script src="tetrominoes.js"></script>
		<script src="gameLoop.js"></script>
		<script src="initialiseGrid.js"></script>
		<link rel="stylesheet" href="styles.css">
	</head>
	
	<body>
		<div id="columnContainer">
			<div id="column1">
				<div id="gameContainer">
					<div id="overlay">
						<table border="0">
							<tr>
								<td>
									<div class = "textBackground">
										<h1 id="displayText" class="overlayHeading">Game Over</h1>
									</div>
								</td>
							</tr>
							<tr height="10px" />
							<tr>
								<td align="center">
									<button type="button" id="restartButton" onclick="reset()">
										<h1 class="overlayHeading" style="font-size: 22;">Restart</h1>
									</button>
								</td>
							</tr>
						</table>
					</div>
					<div id="blockContainer" class="base"></div>
				</div>
			</div>

			<div id="column2">
				<div id="nextBlockContainer">
					<h1 class="scoreHeading">Next</h1>
					<div id="miniGridContainer"></div>
				</div>
				<div id="scoreContainer">
					<h1 class="scoreHeading">Score</h1>
					<h1 id="score" style="font-size: 40;" class="scoreHeading">0</h1>
				</div>
			</div>
		</div>

		<script>
			let mainGridContainer = document.getElementById("blockContainer");
			let miniGridContainer = document.getElementById("miniGridContainer");
			let overlay = document.getElementById("overlay");
			let displayText = document.getElementById("displayText");
			let scoreText = document.getElementById("score");

			let rows = 18;
			let cols = 10;
			let grid = createGrid(mainGridContainer, rows, cols);
			let miniGrid = createGrid(miniGridContainer, 4, 2);

			// set size of overlay to match the grid
			overlay.style.width = (cols*sideLength + 20) + "px";
    		overlay.style.height = (rows*sideLength + 20) + "px";

			document.onkeydown = checkKey;
			mainGridContainer.addEventListener("lockedInPlace", gameLoop);

			let newTet = createTetromino();
			gameLoop();
		</script>
	</body>
</html>